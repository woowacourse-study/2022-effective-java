# ë°˜í™˜ íƒ€ì…ì€ ìŠ¤íŠ¸ë¦¼ë³´ë‹¤ ì»¬ë ‰ì…˜ì´ ì¢‹ë‹¤.

> ì—„ì²­ ë‹¹ì—°í•œ ì´ì•¼ê¸° ê°™ì€ë° í˜ì´ì§€ ë¶„ëŸ‰ì´ ë§ìŠµë‹ˆë‹¤.  
> ëŒ€ì²´ ë¬´ìŠ¨ ì´ì•¼ê¸°ë¥¼ í•˜ë‚˜ ê¶ê¸ˆí•´ì„œ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤ ã…ã…

## ì¼ë ¨ì˜ ì›ì†Œë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ

- ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ Collection, Set, List, Iterable, Array ë“± ë‹¤ì–‘
- Java8ì—ì„œ Stream ë“±ì¥ìœ¼ë¡œ ë³µì¡í•œ ì¼ ë°œìƒ

## Streamì€ ë°˜ë³µ(iteration)ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.

> [item 45 ì°¸ê³ ](../ì•„ì´í…œ_45/ìŠ¤íŠ¸ë¦¼ì€_ì£¼ì˜í•´ì„œ_ì‚¬ìš©í•˜ë¼.md)

### â— streamë§Œ ë°˜í™˜í•˜ëŠ” API

ğŸ‘‰ API ì‚¬ìš©ì ğŸ™â€: ì „ ë°˜í™˜ ê°’ì„ for-eachë¡œ ë°˜ë³µí•˜ê¸¸ ì›í–ˆëŠ”ë° ì•ˆë˜ë„¤ìš”?ğŸ˜¡

> ì—¬ê¸°ì„œ ì˜ë¯¸í•˜ëŠ” for-eachëŠ” stream().forEach()ê°€ ì•„ë‹™ë‹ˆë‹¤!  
> `for(String l : list) { ... }`ê°™ì€ í˜•íƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

### â“ Streamê³¼ Iterable

Stream ì¸í„°í˜ì´ìŠ¤ëŠ” Iterable ì¸í„°í˜ì´ìŠ¤ê°€ ì •ì˜í•œ ì¶”ìƒ ë©”ì„œë“œë¥¼ ì „ë¶€ í¬í•¨í•˜ê³  ì´ë“¤ì€ Iterable ì¸í„°í˜ì´ìŠ¤ê°€ ì •ì˜í•œ ë°©ì‹ëŒ€ë¡œ ë™ì‘í•œë‹¤.  
ê·¸ëŸ¼ì—ë„ for-eachê°€ ë¶ˆê°€ëŠ¥í•œê±´ Streamì´ Iterableì„ extend í•˜ì§€ ì•Šì•„ì„œì´ë‹¤.  

```java
// Stream ì¸í„°í˜ì´ìŠ¤
public interface Stream<T> extends BaseStream<T, Stream<T>> {
    // ... 
}

public interface BaseStream<T, S extends BaseStream<T, S>>
        extends AutoCloseable {

    Iterator<T> iterator();
}

// Collectionì€ Iterableì„ extend í•œë‹¤.
public interface Collection<E> extends Iterable<E> {
    // ...
}
```

ê·¸ë ‡ë‹¤ë©´ Streamê³¼ Iterableì„ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•´ë³´ê² ë‹¤.

```java
// ProcessHandle.allProcess()ì˜ return ê°’: Stream<ProcessHandle>
// ProcessHandle: ê¸°ë³¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹ë³„í•˜ê³  ì œì–´í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
for(ProcessHandle processHandle : (Iterable<ProcessHandle>)ProcessHandle.allProcesses()::iterator){
    // í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬
}
```

ì € ë”ì°í•œ í˜•ë³€í™˜ì´ ë³´ì´ëŠ”ê°€?  
ì•ˆíƒ€ê¹ê²Œë„ ì € í˜•ë³€í™˜ì´ ì—†ìœ¼ë©´ `method reference not expected here`ë¼ëŠ” ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

ë‹¤í–‰íˆ Stream<E>ë¥¼ Iterable<E>ë¡œ ì¤‘ê°œí•´ì£¼ëŠ” ë©”ì„œë“œë¥¼ ìƒì„±í•˜ë©´ ì¡°ê¸ˆ ë” í¸ì•ˆí•´ì§„ë‹¤.

```java
public static <E> Iterable<E> iterableOf(Stream<E> stream) {
    return stream::iterator;
}

for(ProcessHandle processHandle : iterableOf(ProcessHandle.allProcesses())) {
    // í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬
}
```

### iterableë§Œ ë°˜í™˜í•˜ëŠ” API
ğŸ‘‰ API ì‚¬ìš©ì ğŸ™â€â™‚ï¸â€: ì „ ë°˜í™˜ ê°’ì„ ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸ì—ì„œ ì²˜ë¦¬í•˜ê¸°ë¥¼ ì›í–ˆëŠ”ë° ì•ˆë˜ë„¤ìš”?ğŸ˜¡

ì´ëŸ¬í•œ ê²½ìš°ì—ë„ Iterableì„ Streamìœ¼ë¡œ ì¤‘ê°œí•´ì£¼ëŠ” ë©”ì„œë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
```java
public static <E> Stream<E> streamOf(Iterable<E> iterable) {
    return StreamSupport.stream(iterable.spliterator(), false);
}
```

<br>

## ëª¨ë‘ë¥¼ ë°°ë ¤í•˜ëŠ” API
APIëŠ” í•œ ìª½ë§Œ ì§€ì›í•˜ê¸° ë³´ë‹¤ëŠ” iterable, stream **ëª¨ë‘ë¥¼ ë°°ë ¤í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì.**  
`Collection`ì´ë‚˜ ê·¸ í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•˜ë„ë¡ í•˜ì.

### Collectionì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
- Iterableì˜ í•˜ìœ„ íƒ€ì…
- stream ë©”ì„œë“œ ì œê³µ
- ğŸ‘‰ ë°˜ë³µê³¼ ìŠ¤íŠ¸ë¦¼ì„ ë™ì‹œì— ì§€ì›

### ë©ì¹˜ í° ì‹œí€€ìŠ¤
- ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ ë©ì¹˜ í° ì‹œí€€ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ëŠ”ê±´ ë¶ˆí•„ìš”í•œ ì¼
- ì „ìš© ì»¬ë ‰ì…˜ êµ¬í˜„ë„ ê³ ë ¤í•´ë³´ì.

<br>

## ê²°ë¡ 
ğŸ‘‰ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œëŠ” `Stream`ë³´ë‹¤ `Collection`ì„ ì´ìš©í•˜ì.